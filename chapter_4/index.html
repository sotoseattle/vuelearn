<!DOCTYPE html>
<html>

<head>
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr"
	 crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.2/css/bulma.css">
	<title>Dropbox App</title>
</head>

<body>
	<div id="app">
		<h1 class="title is-1">Dropbox</h1>
		<dropbox-viewer></dropbox-viewer>
	</div>

	<template id='breadcrumb-template'>
		<div class="container">
			<span v-for="x in throwCrumbs">
				Â»
				<a @click.prevent="navigate(x.path)" :href="x.path">{{x.name}}</a>
			</span>
			<hr>
		</div>
	</template>

	<script type="text/x-template" id='dropbox-viewer-template'>
		<div class="container">
			<breadcrumb :breadcrumbs="pathWalked" @path="updateStructure"></breadcrumb>


			<div v-if="isLoading">
				<transition name='fade'>
					<div>Loading...</div>
				</transition>
			</div>
			<div v-else>
				<div v-for="entry in structure.folders">
					<folder :f="entry" @path="updateStructure"></folder>
				</div>
				<hr/>
				<ul>
					<li v-for="entry in structure.files">
						<file :d="dropbox()" :f="entry"></file>
					</li>
				</ul>
			</div>
			
		</div>
	</script>

	<script src="js/dropbox.js"></script>
	<script src="js/vue.js"></script>
	<script src='js/config.js'></script>
	<script src="js/app.js"></script>
	<style>
		.fade-enter-active,
		.fade-leave-active {
			transition: opacity .5s
		}

		.fade-enter,
		.fade-leave-to {
			opacity: 0
		}
	</style>
</body>


</html>